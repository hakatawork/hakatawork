// Visa restauranger
function displayRestaurants(restaurants, isRandom) {
    if (!restaurants || restaurants.length === 0 || !elements['results-content']) {
        debug.log('Inga restauranger att visa');
        return;
    }

    debug.log(`Visar ${restaurants.length} restauranger`);
    let html = isRandom ? '<h2>Dagens lunchval!</h2>' : '<h2>Hittade restauranger:</h2>';
    
    restaurants.forEach(restaurant => {
        debug.log(`Preparerar visning för: ${restaurant.name}`);
        
        const imageHtml = restaurant.photoUrl ? 
            `<img src="${restaurant.photoUrl}" alt="${restaurant.name}" class="restaurant-image">` : 
            '<div class="no-image">Ingen bild</div>';

        // Skapa meny-knapp ENDAST om meny finns
        const menuButton = restaurant.menuUrl ? `
            <button class="menu-btn" onclick="window.open('${restaurant.menuUrl}', '_blank')">
                ${restaurant.menuUrl.includes('lunch') ? 'Lunchmeny' : 'Meny'}
            </button>
        ` : '';

        // Skapa webbplatsknapp ENDAST om riktig webbplats finns
        const websiteButton = restaurant.website ? `
            <button onclick="window.open('${restaurant.website}', '_blank')">
                Besök webbplats
            </button>
        ` : '';

        html += `
            <div class="restaurant">
                <div class="restaurant-image-container">
                    ${imageHtml}
                </div>
                <div class="restaurant-info">
                    <h3>${restaurant.name}</h3>
                    <p><strong>Adress:</strong> ${restaurant.vicinity || 'Okänd adress'}</p>
                    ${restaurant.distance ? `<p><strong>Avstånd:</strong> ${restaurant.distance}</p>` : ''}
                    ${restaurant.rating ? `<p><strong>Betyg:</strong> ${restaurant.rating}/5</p>` : ''}
                    <div class="actions">
                        ${restaurant.place_id ? `
                            <a href="https://www.google.com/maps?q=place_id:${restaurant.place_id}" target="_blank">Visa på karta</a>
                        ` : ''}
                        ${websiteButton}
                        ${menuButton}
                    </div>
                </div>
            </div>
        `;
    });

    elements['results-content'].innerHTML = html;
    debug.log('Restauranger visas nu på sidan');
}
