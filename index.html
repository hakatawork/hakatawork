// Visa restauranger
         function displayRestaurants(restaurants, isRandom) {
             if (!restaurants || restaurants.length === 0) {
                 elements['results-content'].innerHTML = '<p>Inga restauranger hittades.</p>';
                 return;
             }

             let html = isRandom ? '<h2>Dagens lunchval!</h2>' : '<h2>Hittade restauranger:</h2>';
             
             restaurants.forEach(restaurant => {
                 const imageHtml = restaurant.photoUrl ? 
                     `<img src="${restaurant.photoUrl}" alt="${restaurant.name}" class="restaurant-image">` : 
                     '<div class="no-image">Ingen bild</div>';

                 // --- Förbättrad Meny-knapp Logik ---
                 let menuSearchUrl = '';
                 let menuButtonText = 'Sök lunchmeny'; 

                 if (restaurant.website) {
                     // Prioritera en sökning på restaurangens egen webbplats
                     // Använder encodeURIComponent för att hantera specialtecken i namn och URL
                     menuSearchUrl = `https://www.google.com/search?q=site%3A${encodeURIComponent(restaurant.website)}+${encodeURIComponent(restaurant.name)}+lunchmeny+meny`;
                     menuButtonText = 'Sök meny på webbplats';
                 } else {
                     // Fallback: Använd generell Google-sökning med namn + plats om ingen webbplats finns
                     // Använder vicinity (adress/område) om det finns, annars 'Stockholm'
                     const locationQuery = restaurant.vicinity ? restaurant.vicinity : 'Stockholm';
                     menuSearchUrl = `https://www.google.com/search?q=${encodeURIComponent(restaurant.name)}+${encodeURIComponent(locationQuery)}+lunchmeny+meny`;
                     menuButtonText = 'Sök meny (Google)';
                 }
                 
                 // Skapa knappen endast om vi har en URL att länka till
                 const menuButton = menuSearchUrl ? `
                     <button class="menu-btn" onclick="window.open('${menuSearchUrl}', '_blank')">
                         ${menuButtonText}
                     </button>
                 ` : '';
                 // --- Slut Meny-knapp Logik ---

                 // Webbplatsknapp (visas endast om webbplats finns)
                 const websiteButton = restaurant.website ? `
                     <button onclick="window.open('${restaurant.website}', '_blank')">
                         Besök webbplats
                     </button>
                 ` : '';
                 
                 // Karta-knapp (använder Google Maps URL från API om tillgänglig, annars Place ID-sökning)
                 const mapLink = restaurant.googleUrl ? restaurant.googleUrl : 
                                (restaurant.place_id ? `https://www.google.com/maps/search/?api=1&query=Google&query_place_id=${restaurant.place_id}` : '');
                 const mapButton = mapLink ? `
                     <a href="${mapLink}" target="_blank">Visa på karta</a>
                 ` : '';


                 html += `
                     <div class="restaurant">
                         <div class="restaurant-image-container">
                             ${imageHtml}
                         </div>
                         <div class="restaurant-info">
                             <h3>${restaurant.name}</h3>
                             <p><strong>Adress:</strong> ${restaurant.vicinity || 'Okänd adress'}</p>
                             ${restaurant.distance ? `<p><strong>Avstånd:</strong> ${restaurant.distance}</p>` : ''}
                             ${restaurant.rating ? `<p><strong>Betyg:</strong> ${restaurant.rating}/5</p>` : ''}
                             <div class="actions">
                                 ${mapButton}
                                 ${websiteButton}
                                 ${menuButton} 
                             </div>
                         </div>
                     </div>
                 `;
             });

             elements['results-content'].innerHTML = html;
         }
